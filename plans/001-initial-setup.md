# План 001: Инициализация проекта (MVP)

## Цель (Objective)
Развернуть базовую структуру проекта "Vibe Tracker Bot", настроить окружение и запустить простейшего бота с подключенной базой данных (SQLite + Tortoise ORM).

## Шаги (Proposed Steps)

1.  **Подготовка окружения:**
    *   Создать виртуальное окружение (`venv`).
    *   Создать файл `requirements.txt` с зависимостями (`aiogram`, `tortoise-orm`, `python-dotenv`).
    *   Создать файл `.env.example`.

2.  **Структура проекта:**
    *   Создать директории согласно `docs/tech.md` (`handlers`, `database`, `services`, `middlewares`, `keyboards`, `utils`).
    *   Создать пустые `__init__.py` файлы.

3.  **База данных (Tortoise ORM Setup):**
    *   Создать файл `database/models.py` и описать модель `User` (базовая модель).
    *   Создать файл `database/db.py` с функцией `init_db()` для инициализации Tortoise.
    *   Настроить генерацию схемы БД при старте (для MVP без миграций `aerich` пока, или сразу с ним, если решим). *Решение: пока `Tortoise.init(..., generate_schemas=True)` для простоты.*

4.  **Базовый бот (Echo / Start):**
    *   Создать `config.py` для загрузки токена.
    *   Создать `handlers/common.py` с обработчиком `/start`, который:
        *   Приветствует пользователя.
        *   Сохраняет пользователя в БД (если новый).
    *   Создать `bot.py` (entry point), который:
        *   Загружает конфиг.
        *   Инициализирует БД.
        *   Регистрирует роутеры.
        *   Запускает поллинг (`start_polling`).

5.  **Проверка:**
    *   Запустить бота.
    *   Написать `/start`.
    *   Убедиться, что файл `db.sqlite3` создался и пользователь записался.

## Риски
*   Проблемы с асинхронностью при инициализации БД (нужно вызывать `init_db` внутри `async main`).
*   Конфликты версий библиотек (зафиксировать в requirements).

## Стратегия отката
*   Удалить созданные файлы, вернуться к чистому репозиторию.
*   Если БД сломалась — удалить `db.sqlite3` (так как данных там еще нет).

