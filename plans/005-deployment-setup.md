# План развертывания проекта (Deployment Plan)

**Цель (Objective):** Подготовить проект к деплою на сервер, обеспечив стабильную работу бота и базы данных.

## Предлагаемые шаги (Proposed Steps)

### 1. Контейнеризация (Docker)
*   **Создать `Dockerfile`:** Для упаковки бота в контейнер.
*   **Обновить `docker-compose.yml`:** Добавить сервис `bot`, который будет зависеть от `db`. Настроить `restart: always` и передачу переменных окружения.
*   **Настроить логирование:** Чтобы логи бота были доступны через `docker logs`.

### 2. Конфигурация
*   **Создать `.env.example`:** Чтобы было понятно, какие ключи нужны на сервере.
*   **Проверить `config.py`:** Убедиться, что `DATABASE_URL` правильно считывается из окружения и по умолчанию ведет на Postgres в Docker-сети.

### 3. Подготовка сервера (Инструкция)
*   Установка Docker и Docker Compose.
*   Клонирование репозитория.
*   Настройка `.env` файла на сервере.

### 4. Запуск и проверка
*   Команда для запуска: `docker compose up -d --build`.
*   Проверка статуса контейнеров.
*   Проверка работы бота в Telegram.

## Риски
*   **Сетевые проблемы:** Доступ сервера к API Telegram или OpenAI.
*   **Конфликты портов:** Если 5432 уже занят на сервере.
*   **Переменные окружения:** Ошибки в `DATABASE_URL` или `BOT_TOKEN`.

## Стратегия отката
*   Остановка контейнеров: `docker compose down`.
*   Возврат к локальному запуску через SQLite (если критично).

---
**AICODE-NOTE:** Мы переходим на полную контейнеризацию (Bot + DB), так как это стандарт индустрии для продакшена и упрощает управление зависимостями.

